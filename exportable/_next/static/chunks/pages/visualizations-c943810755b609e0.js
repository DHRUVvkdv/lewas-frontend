(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{16:(e,a,t)=>{"use strict";t.d(a,{Ey:()=>r,Gf:()=>i,RJ:()=>s});let i={baseURL:"".concat("https://t35mza5xpmaldiqx63bk4vvpgm0cqxaj.lambda-url.us-east-1.on.aws","/v1/sensors"),apiKey:"dv",async makeRequest(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t=new URL("".concat(this.baseURL).concat(e));Object.keys(a).forEach(e=>{null!==a[e]&&void 0!==a[e]&&t.searchParams.append(e,a[e])}),console.log("\uD83D\uDD0D API Request Details:"),console.log("Base URL:",this.baseURL),console.log("Endpoint:",e),console.log("Full URL:",t.toString()),console.log("Parameters:",a),console.log("API Key:",this.apiKey);let i=await fetch(t.toString(),{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":this.apiKey}});if(console.log("\uD83D\uDCE1 Response Status:",i.status),console.log("\uD83D\uDCE1 Response Headers:",Object.fromEntries(i.headers.entries())),!i.ok){let e=await i.text();throw console.error("❌ Error Response Body:",e),Error("HTTP error! Status: ".concat(i.status," - ").concat(e))}let s=await i.json();return console.log("✅ Response Data:",s),s}catch(e){throw console.error("\uD83D\uDEA8 API Request Error:",e),e}},async fetchObservations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{instrument:a,metric:t,medium:i,unit:s,startTime:r,endTime:n,limit:l=1e3}=e;return console.log("\uD83C\uDFAF Fetching observations with filters:",e),await this.makeRequest("/observations",{instrument:a,metric:t,medium:i,unit:s,start_time:r,end_time:n,limit:l})},async fetchParameterData(e,a,t){let{metric:i,medium:s,instrument:r}=e;return console.log("\uD83C\uDFAF Fetching parameter data:",{parameterConfig:e,startTime:a,endTime:t}),await this.fetchObservations({instrument:r,metric:i,medium:s,startTime:a,endTime:t,limit:2e3})},async testConnection(){try{console.log("\uD83D\uDD17 Testing connection to backend..."),console.log("Base URL:",this.baseURL);let e=await fetch(this.baseURL,{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":this.apiKey}});return console.log("Connection test status:",e.status),e.ok}catch(e){return console.error("Connection test failed:",e),!1}}},s={stage:{metric:"velocity-z",medium:"water",instrument:"argonaut",processing:"stage_correction"},smoothed_velocity:{metric:"velocity-x",medium:"water",instrument:"argonaut",processing:"smoothed_velocity"},flow_rate:{metric:"velocity-x",medium:"water",instrument:"argonaut",processing:"flow_rate_calculation"},downstream_velocity:{metric:"velocity-x",medium:"water",instrument:"argonaut",processing:"velocity_correction"},ph:{metric:"ph",medium:"water",instrument:"sonde",processing:"none"},specific_conductance:{metric:"specific-conductance",medium:"water",instrument:"sonde",processing:"none"},salinity:{metric:"salinity",medium:"water",instrument:"sonde",processing:"none"},turbidity:{metric:"turbidity",medium:"water",instrument:"sonde",processing:"none"},dissolved_oxygen:{metric:"ldo",medium:"water",instrument:"sonde",processing:"none"},water_temperature:{metric:"temperature",medium:"water",instrument:"sonde",processing:"none"},orp:{metric:"redox",medium:"water",instrument:"sonde",processing:"none"},air_temperature:{metric:"temperature",medium:"air",instrument:"weather-station",processing:"none"},humidity:{metric:"humidity",medium:"air",instrument:"weather-station",processing:"none"},air_pressure:{metric:"pressure",medium:"air",instrument:"weather-station",processing:"pressure_correction"},rain_intensity:{metric:"intensity",medium:"rain",instrument:"weather-station",processing:"none"},rain_accumulation:{metric:"accumulation",medium:"rain",instrument:"weather-station",processing:"none"},rain_duration:{metric:"duration",medium:"rain",instrument:"weather-station",processing:"none"}},r=e=>new Date(e).toLocaleString()},1408:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/visualizations",function(){return t(5035)}])},4506:(e,a,t)=>{"use strict";t.d(a,{A:()=>m});var i=t(7876),s=t(1703),r=t.n(s),n=t(7328),l=t.n(n),c=t(8230),o=t.n(c),d=t(9099);let m=e=>{let{children:a,title:t="LEWAS Lab Data"}=e,s=(0,d.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{className:"jsx-2855d52240b062df",children:t}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1",className:"jsx-2855d52240b062df"})]}),(0,i.jsxs)("div",{className:"jsx-2855d52240b062df container",children:[(0,i.jsxs)("header",{className:"jsx-2855d52240b062df",children:[(0,i.jsx)("h1",{className:"jsx-2855d52240b062df",children:t}),(0,i.jsx)("nav",{className:"jsx-2855d52240b062df",children:(0,i.jsxs)("div",{className:"jsx-2855d52240b062df nav-links",children:[(0,i.jsx)(o(),{href:"/",className:"nav-link ".concat("/"===s.pathname?"active":""),children:"Home"}),(0,i.jsx)(o(),{href:"/live-data",className:"nav-link ".concat("/live-data"===s.pathname?"active":""),children:"Live Creek Data"}),(0,i.jsx)(o(),{href:"/chatbot",className:"nav-link ".concat("/chatbot"===s.pathname?"active":""),children:"Chatbot"}),(0,i.jsx)(o(),{href:"/team",className:"nav-link ".concat("/team"===s.pathname?"active":""),children:"Team"})]})})]}),(0,i.jsx)("main",{className:"jsx-2855d52240b062df",children:a}),(0,i.jsx)("footer",{className:"jsx-2855d52240b062df",children:(0,i.jsx)("p",{className:"jsx-2855d52240b062df",children:"LEWAS Lab Environmental Monitoring - Under Development"})})]}),(0,i.jsx)(r(),{id:"2855d52240b062df",children:'.container.jsx-2855d52240b062df{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;font-family:"Franklin Gothic",Arial,sans-serif}header.jsx-2855d52240b062df{background:#f8f9fa;border-bottom:1px solid#dee2e6;padding:1rem 2rem}header.jsx-2855d52240b062df h1.jsx-2855d52240b062df{margin:0 0 1rem 0;color:#333;font-size:2rem}nav.jsx-2855d52240b062df{margin-top:1rem}.nav-links.jsx-2855d52240b062df{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.nav-links.jsx-2855d52240b062df a{color:#007bff;text-decoration:none;padding:.5rem 1rem;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s;border:1px solid transparent}.nav-links.jsx-2855d52240b062df a:hover{background:#e9ecef;color:#0056b3}.nav-links.jsx-2855d52240b062df a.active{background:#007bff;color:white;border-color:#0056b3}main.jsx-2855d52240b062df{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:2rem}footer.jsx-2855d52240b062df{background:#f8f9fa;border-top:1px solid#dee2e6;padding:1rem;text-align:center;margin-top:auto}footer.jsx-2855d52240b062df p.jsx-2855d52240b062df{margin:0;color:#666}@media(max-width:768px){header.jsx-2855d52240b062df{padding:1rem}.nav-links.jsx-2855d52240b062df{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}main.jsx-2855d52240b062df{padding:1rem}}'})]})}},5035:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var i=t(7876),s=t(4232),r=t(4506),n=t(16);function l(){let[e,a]=(0,s.useState)(null),[t,l]=(0,s.useState)(!0),[c,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{l(!0);let e=await n.Gf.fetchSensorReadings();a(e),l(!1)}catch(e){o("Failed to load sensor data"),l(!1)}})()},[]);let d=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(t)return(0,i.jsx)(r.A,{title:"LEWAS Lab - Visualizations",children:(0,i.jsx)("div",{className:"loading",children:"Loading visualization data..."})});if(c)return(0,i.jsx)(r.A,{title:"LEWAS Lab - Visualizations",children:(0,i.jsxs)("div",{className:"error",children:["Error: ",c]})});if(!e||!e.readings||0===e.readings.length)return(0,i.jsx)(r.A,{title:"LEWAS Lab - Visualizations",children:(0,i.jsx)("div",{children:"No data available for visualization"})});let m=(e=>{let a={temperature:[],humidity:[],pressure:[],light:[]};return e&&e.length>0&&e.forEach(e=>{a[e.parameter_type]&&a[e.parameter_type].push(e)}),a})(e.readings),h=e=>{if(!e||0===e.length)return{min:0,max:100};let a=e[0].value,t=e[0].value;return e.forEach(e=>{e.value<a&&(a=e.value),e.value>t&&(t=e.value)}),{min:a,max:t}},u=(e,a,t)=>t===a?50:(e-a)/(t-a)*80+10,x=(()=>{let e={};if(m.temperature.length>0){let{min:a,max:t}=h(m.temperature);e.tempRange="".concat(a.toFixed(1),"\xb0C - ").concat(t.toFixed(1),"\xb0C")}if(m.humidity.length>0&&(e.avgHumidity=(m.humidity.reduce((e,a)=>e+a.value,0)/m.humidity.length).toFixed(1)+"%"),m.pressure.length>0){let{min:a,max:t}=h(m.pressure);e.pressureVar=(t-a).toFixed(2)+" hPa"}if(m.light.length>0){let{max:a}=h(m.light);e.maxLight=a.toFixed(1)+" lux"}return e})();return(0,i.jsx)(r.A,{title:"LEWAS Lab - Visualizations",children:(0,i.jsxs)("div",{className:"visualizations-container",children:[(0,i.jsx)("h2",{children:"Environmental Data Visualizations"}),(0,i.jsx)("p",{children:"Visual representation of SIMULATED sensor data from Stroubles Creek. We are working on getting live data"}),m.temperature.length>0&&(0,i.jsxs)("div",{className:"chart-section",children:[(0,i.jsx)("h3",{children:"Temperature Data (\xb0C)"}),(0,i.jsx)("div",{className:"chart-container",children:(0,i.jsx)("div",{className:"chart-bars",children:m.temperature.map((e,a)=>{let{min:t,max:s}=h(m.temperature);return(0,i.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,i.jsx)("div",{className:"chart-bar-container",children:(0,i.jsx)("div",{className:"chart-bar temperature-bar",style:{height:"".concat(u(e.value,t,s),"%")},children:(0,i.jsx)("span",{className:"bar-value",children:e.value.toFixed(1)})})}),(0,i.jsx)("div",{className:"bar-label",children:d(e.timestamp)})]},a)})})})]}),m.humidity.length>0&&(0,i.jsxs)("div",{className:"chart-section",children:[(0,i.jsx)("h3",{children:"Humidity Data (%)"}),(0,i.jsx)("div",{className:"chart-container",children:(0,i.jsx)("div",{className:"chart-bars",children:m.humidity.map((e,a)=>{let{min:t,max:s}=h(m.humidity);return(0,i.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,i.jsx)("div",{className:"chart-bar-container",children:(0,i.jsx)("div",{className:"chart-bar humidity-bar",style:{height:"".concat(u(e.value,t,s),"%")},children:(0,i.jsx)("span",{className:"bar-value",children:e.value.toFixed(1)})})}),(0,i.jsx)("div",{className:"bar-label",children:d(e.timestamp)})]},a)})})})]}),m.pressure.length>0&&(0,i.jsxs)("div",{className:"chart-section",children:[(0,i.jsx)("h3",{children:"Pressure Data (hPa)"}),(0,i.jsx)("div",{className:"chart-container",children:(0,i.jsx)("div",{className:"chart-bars",children:m.pressure.map((e,a)=>{let{min:t,max:s}=h(m.pressure);return(0,i.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,i.jsx)("div",{className:"chart-bar-container",children:(0,i.jsx)("div",{className:"chart-bar pressure-bar",style:{height:"".concat(u(e.value,t,s),"%")},children:(0,i.jsx)("span",{className:"bar-value",children:e.value.toFixed(1)})})}),(0,i.jsx)("div",{className:"bar-label",children:d(e.timestamp)})]},a)})})})]}),m.light.length>0&&(0,i.jsxs)("div",{className:"chart-section",children:[(0,i.jsx)("h3",{children:"Light Level Data (lux)"}),(0,i.jsx)("div",{className:"chart-container",children:(0,i.jsx)("div",{className:"chart-bars",children:m.light.map((e,a)=>{let{min:t,max:s}=h(m.light);return(0,i.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,i.jsx)("div",{className:"chart-bar-container",children:(0,i.jsx)("div",{className:"chart-bar light-bar",style:{height:"".concat(u(e.value,t,s),"%")},children:(0,i.jsx)("span",{className:"bar-value",children:e.value.toFixed(1)})})}),(0,i.jsx)("div",{className:"bar-label",children:d(e.timestamp)})]},a)})})})]}),(0,i.jsxs)("div",{className:"data-insights",children:[(0,i.jsx)("h3",{children:"Data Insights"}),(0,i.jsxs)("div",{className:"insights-grid",children:[x.tempRange&&(0,i.jsxs)("div",{className:"insight-card",children:[(0,i.jsx)("h4",{children:"Temperature Range"}),(0,i.jsx)("p",{children:x.tempRange})]}),x.avgHumidity&&(0,i.jsxs)("div",{className:"insight-card",children:[(0,i.jsx)("h4",{children:"Average Humidity"}),(0,i.jsx)("p",{children:x.avgHumidity})]}),x.pressureVar&&(0,i.jsxs)("div",{className:"insight-card",children:[(0,i.jsx)("h4",{children:"Pressure Variation"}),(0,i.jsx)("p",{children:x.pressureVar})]}),x.maxLight&&(0,i.jsxs)("div",{className:"insight-card",children:[(0,i.jsx)("h4",{children:"Peak Light Level"}),(0,i.jsx)("p",{children:x.maxLight})]})]})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[111,636,593,792],()=>a(1408)),_N_E=e.O()}]);