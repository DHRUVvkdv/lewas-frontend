(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{16:(e,t,n)=>{"use strict";n.d(t,{Ey:()=>r,Gf:()=>s,RJ:()=>i});let s={baseURL:"".concat("https://t35mza5xpmaldiqx63bk4vvpgm0cqxaj.lambda-url.us-east-1.on.aws","/v1/sensors"),apiKey:"dv",async makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=new URL("".concat(this.baseURL).concat(e));Object.keys(t).forEach(e=>{null!==t[e]&&void 0!==t[e]&&n.searchParams.append(e,t[e])}),console.log("\uD83D\uDD0D API Request Details:"),console.log("Base URL:",this.baseURL),console.log("Endpoint:",e),console.log("Full URL:",n.toString()),console.log("Parameters:",t),console.log("API Key:",this.apiKey);let s=await fetch(n.toString(),{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":this.apiKey}});if(console.log("\uD83D\uDCE1 Response Status:",s.status),console.log("\uD83D\uDCE1 Response Headers:",Object.fromEntries(s.headers.entries())),!s.ok){let e=await s.text();throw console.error("❌ Error Response Body:",e),Error("HTTP error! Status: ".concat(s.status," - ").concat(e))}let i=await s.json();return console.log("✅ Response Data:",i),i}catch(e){throw console.error("\uD83D\uDEA8 API Request Error:",e),e}},async fetchObservations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{instrument:t,metric:n,medium:s,unit:i,startTime:r,endTime:a,limit:o=1e3}=e;return console.log("\uD83C\uDFAF Fetching observations with filters:",e),await this.makeRequest("/observations",{instrument:t,metric:n,medium:s,unit:i,start_time:r,end_time:a,limit:o})},async fetchParameterData(e,t,n){let{metric:s,medium:i,instrument:r}=e;return console.log("\uD83C\uDFAF Fetching parameter data:",{parameterConfig:e,startTime:t,endTime:n}),await this.fetchObservations({instrument:r,metric:s,medium:i,startTime:t,endTime:n,limit:2e3})},async testConnection(){try{console.log("\uD83D\uDD17 Testing connection to backend..."),console.log("Base URL:",this.baseURL);let e=await fetch(this.baseURL,{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":this.apiKey}});return console.log("Connection test status:",e.status),e.ok}catch(e){return console.error("Connection test failed:",e),!1}}},i={stage:{metric:"velocity-z",medium:"water",instrument:"argonaut",processing:"stage_correction"},smoothed_velocity:{metric:"velocity-x",medium:"water",instrument:"argonaut",processing:"smoothed_velocity"},flow_rate:{metric:"velocity-x",medium:"water",instrument:"argonaut",processing:"flow_rate_calculation"},downstream_velocity:{metric:"velocity-x",medium:"water",instrument:"argonaut",processing:"velocity_correction"},ph:{metric:"ph",medium:"water",instrument:"sonde",processing:"none"},specific_conductance:{metric:"specific-conductance",medium:"water",instrument:"sonde",processing:"none"},salinity:{metric:"salinity",medium:"water",instrument:"sonde",processing:"none"},turbidity:{metric:"turbidity",medium:"water",instrument:"sonde",processing:"none"},dissolved_oxygen:{metric:"ldo",medium:"water",instrument:"sonde",processing:"none"},water_temperature:{metric:"temperature",medium:"water",instrument:"sonde",processing:"none"},orp:{metric:"redox",medium:"water",instrument:"sonde",processing:"none"},air_temperature:{metric:"temperature",medium:"air",instrument:"weather-station",processing:"none"},humidity:{metric:"humidity",medium:"air",instrument:"weather-station",processing:"none"},air_pressure:{metric:"pressure",medium:"air",instrument:"weather-station",processing:"pressure_correction"},rain_intensity:{metric:"intensity",medium:"rain",instrument:"weather-station",processing:"none"},rain_accumulation:{metric:"accumulation",medium:"rain",instrument:"weather-station",processing:"none"},rain_duration:{metric:"duration",medium:"rain",instrument:"weather-station",processing:"none"}},r=e=>new Date(e).toLocaleString()},354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var s=n(7876),i=n(4232),r=n(4506),a=n(16);let o=e=>{let{data:t}=e;return t&&t.readings&&0!==t.readings.length?(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Sensor Readings:"}),(0,s.jsxs)("p",{children:["Total readings: ",t.count]}),(0,s.jsxs)("table",{border:"1",cellPadding:"5",cellSpacing:"0",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Parameter"}),(0,s.jsx)("th",{children:"Value"}),(0,s.jsx)("th",{children:"Unit"}),(0,s.jsx)("th",{children:"Location"}),(0,s.jsx)("th",{children:"Sensor ID"}),(0,s.jsx)("th",{children:"Timestamp"})]})}),(0,s.jsx)("tbody",{children:t.readings.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.parameter_type}),(0,s.jsx)("td",{children:e.value}),(0,s.jsx)("td",{children:e.unit}),(0,s.jsx)("td",{children:e.location}),(0,s.jsx)("td",{children:e.sensor_id}),(0,s.jsx)("td",{children:(0,a.Ey)(e.timestamp)})]},t))})]})]}):(0,s.jsx)("p",{children:"No sensor readings found"})};function d(){let[e,t]=(0,i.useState)(null),[n,d]=(0,i.useState)(!0),[c,l]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{d(!0);let e=await a.Gf.fetchSensorReadings();t(e),d(!1)}catch(e){l("Failed to load sensor data"),d(!1)}})()},[]),(0,s.jsxs)(r.A,{title:"LEWAS Lab - Sensor Readings",children:[(0,s.jsx)("h2",{children:"Sensor Readings"}),(0,s.jsxs)("div",{className:"result-container",children:[n&&(0,s.jsx)("p",{children:"Loading data..."}),c&&(0,s.jsxs)("p",{children:["Error: ",c]}),e&&(0,s.jsx)(o,{data:e})]})]})}},4506:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var s=n(7876),i=n(1703),r=n.n(i),a=n(7328),o=n.n(a),d=n(8230),c=n.n(d),l=n(9099);let m=e=>{let{children:t,title:n="LEWAS Lab Data"}=e,i=(0,l.useRouter)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{className:"jsx-2855d52240b062df",children:n}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1",className:"jsx-2855d52240b062df"})]}),(0,s.jsxs)("div",{className:"jsx-2855d52240b062df container",children:[(0,s.jsxs)("header",{className:"jsx-2855d52240b062df",children:[(0,s.jsx)("h1",{className:"jsx-2855d52240b062df",children:n}),(0,s.jsx)("nav",{className:"jsx-2855d52240b062df",children:(0,s.jsxs)("div",{className:"jsx-2855d52240b062df nav-links",children:[(0,s.jsx)(c(),{href:"/",className:"nav-link ".concat("/"===i.pathname?"active":""),children:"Home"}),(0,s.jsx)(c(),{href:"/live-data",className:"nav-link ".concat("/live-data"===i.pathname?"active":""),children:"Live Creek Data"}),(0,s.jsx)(c(),{href:"/chatbot",className:"nav-link ".concat("/chatbot"===i.pathname?"active":""),children:"Chatbot"}),(0,s.jsx)(c(),{href:"/team",className:"nav-link ".concat("/team"===i.pathname?"active":""),children:"Team"})]})})]}),(0,s.jsx)("main",{className:"jsx-2855d52240b062df",children:t}),(0,s.jsx)("footer",{className:"jsx-2855d52240b062df",children:(0,s.jsx)("p",{className:"jsx-2855d52240b062df",children:"LEWAS Lab Environmental Monitoring - Under Development"})})]}),(0,s.jsx)(r(),{id:"2855d52240b062df",children:'.container.jsx-2855d52240b062df{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;font-family:"Franklin Gothic",Arial,sans-serif}header.jsx-2855d52240b062df{background:#f8f9fa;border-bottom:1px solid#dee2e6;padding:1rem 2rem}header.jsx-2855d52240b062df h1.jsx-2855d52240b062df{margin:0 0 1rem 0;color:#333;font-size:2rem}nav.jsx-2855d52240b062df{margin-top:1rem}.nav-links.jsx-2855d52240b062df{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.nav-links.jsx-2855d52240b062df a{color:#007bff;text-decoration:none;padding:.5rem 1rem;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s;border:1px solid transparent}.nav-links.jsx-2855d52240b062df a:hover{background:#e9ecef;color:#0056b3}.nav-links.jsx-2855d52240b062df a.active{background:#007bff;color:white;border-color:#0056b3}main.jsx-2855d52240b062df{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:2rem}footer.jsx-2855d52240b062df{background:#f8f9fa;border-top:1px solid#dee2e6;padding:1rem;text-align:center;margin-top:auto}footer.jsx-2855d52240b062df p.jsx-2855d52240b062df{margin:0;color:#666}@media(max-width:768px){header.jsx-2855d52240b062df{padding:1rem}.nav-links.jsx-2855d52240b062df{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}main.jsx-2855d52240b062df{padding:1rem}}'})]})}},9628:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/sensor-readings",function(){return n(354)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[111,636,593,792],()=>t(9628)),_N_E=e.O()}]);