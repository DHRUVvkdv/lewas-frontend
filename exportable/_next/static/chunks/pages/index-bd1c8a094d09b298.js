(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9036)}])},4506:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(7876),s=r(7328),a=r.n(s);r(8230);let i=e=>{let{children:t,title:r="LEWAS Lab Data"}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:r}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("header",{children:(0,n.jsx)("h1",{children:r})}),(0,n.jsx)("main",{children:t})]})]})}},9036:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var n=r(7876),s=r(4232),a=r(4506);let i={async fetchRawData(){try{let e=await fetch("https://t35mza5xpmaldiqx63bk4vvpgm0cqxaj.lambda-url.us-east-1.on.aws",{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":"dv"}});if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error fetching data:",e),e}},async fetchSensorReadings(){try{let e=await fetch("".concat("https://t35mza5xpmaldiqx63bk4vvpgm0cqxaj.lambda-url.us-east-1.on.aws","/sensors/readings"),{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":"dv"}});if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error fetching sensor readings:",e),e}}},c=e=>new Date(e).toLocaleString(),d=e=>{let{data:t}=e;return t&&t.readings&&0!==t.readings.length?(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Sensor Readings:"}),(0,n.jsxs)("p",{children:["Total readings: ",t.count]}),(0,n.jsxs)("table",{border:"1",cellPadding:"5",cellSpacing:"0",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Parameter"}),(0,n.jsx)("th",{children:"Value"}),(0,n.jsx)("th",{children:"Unit"}),(0,n.jsx)("th",{children:"Location"}),(0,n.jsx)("th",{children:"Sensor ID"}),(0,n.jsx)("th",{children:"Timestamp"})]})}),(0,n.jsx)("tbody",{children:t.readings.map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.parameter_type}),(0,n.jsx)("td",{children:e.value}),(0,n.jsx)("td",{children:e.unit}),(0,n.jsx)("td",{children:e.location}),(0,n.jsx)("td",{children:e.sensor_id}),(0,n.jsx)("td",{children:c(e.timestamp)})]},t))})]})]}):(0,n.jsx)("p",{children:"No sensor readings found"})},l=e=>{let{data:t}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"API Response:"}),(0,n.jsx)("pre",{children:JSON.stringify(t,null,2)})]})};function h(){let[e,t]=(0,s.useState)(null),[r,c]=(0,s.useState)(!1);async function h(){c(!0);try{let e=await i.fetchRawData();t(e)}catch(e){t({error:e.message})}finally{c(!1)}}async function o(){c(!0);try{let e=await i.fetchSensorReadings();t(e)}catch(e){t({error:e.message})}finally{c(!1)}}return(0,n.jsxs)(a.A,{title:"API Test",children:[(0,n.jsx)("p",{children:"Access data from the API"}),(0,n.jsxs)("div",{className:"button-container",children:[(0,n.jsx)("button",{onClick:h,children:"Fetch Raw Data"}),(0,n.jsx)("button",{onClick:o,children:"View Sensor Readings"})]}),(0,n.jsx)("div",{className:"result-container",children:r?(0,n.jsx)("p",{children:"Loading..."}):e?e.error?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Error:"}),(0,n.jsx)("p",{children:e.error})]}):e.readings?(0,n.jsx)(d,{data:e}):(0,n.jsx)(l,{data:e}):(0,n.jsx)("p",{children:"Select an option above to fetch data"})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[695,636,593,792],()=>t(2936)),_N_E=e.O()}]);