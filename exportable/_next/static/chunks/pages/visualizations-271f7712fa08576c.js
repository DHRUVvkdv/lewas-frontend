(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{16:(e,a,s)=>{"use strict";s.d(a,{E:()=>i,G:()=>r});let r={async fetchRawData(){try{let e=await fetch("https://t35mza5xpmaldiqx63bk4vvpgm0cqxaj.lambda-url.us-east-1.on.aws",{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":"dv"}});if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error fetching data:",e),e}},async fetchSensorReadings(){try{let e=await fetch("".concat("https://t35mza5xpmaldiqx63bk4vvpgm0cqxaj.lambda-url.us-east-1.on.aws","/sensors/readings"),{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":"dv"}});if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Error fetching sensor readings:",e),e}}},i=e=>new Date(e).toLocaleString()},1408:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/visualizations",function(){return s(5035)}])},4506:(e,a,s)=>{"use strict";s.d(a,{A:()=>c});var r=s(7876),i=s(7328),t=s.n(i),n=s(8230),l=s.n(n);let c=e=>{let{children:a,title:s="LEWAS Lab Data"}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t(),{children:[(0,r.jsx)("title",{children:s}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("h1",{children:s}),(0,r.jsx)("nav",{children:(0,r.jsxs)("div",{className:"nav-links",children:[(0,r.jsx)(l(),{href:"/",className:"nav-link",children:"Home"}),(0,r.jsx)(l(),{href:"/raw-data",className:"nav-link",children:"Raw Data"}),(0,r.jsx)(l(),{href:"/sensor-readings",className:"nav-link",children:"Sensor Readings"}),(0,r.jsx)(l(),{href:"/visualizations",className:"nav-link",children:"Visualizations"}),(0,r.jsx)(l(),{href:"/chatbot",className:"nav-link",children:"Chatbot"})]})})]}),(0,r.jsx)("main",{children:a}),(0,r.jsx)("footer",{children:(0,r.jsx)("p",{children:"LEWAS Lab Environmental Monitoring - Under Development"})})]})]})}},5035:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var r=s(7876),i=s(4232),t=s(4506),n=s(16);function l(){let[e,a]=(0,i.useState)(null),[s,l]=(0,i.useState)(!0),[c,h]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{l(!0);let e=await n.G.fetchSensorReadings();a(e),l(!1)}catch(e){h("Failed to load sensor data"),l(!1)}})()},[]);let d=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(s)return(0,r.jsx)(t.A,{title:"LEWAS Lab - Visualizations",children:(0,r.jsx)("div",{className:"loading",children:"Loading visualization data..."})});if(c)return(0,r.jsx)(t.A,{title:"LEWAS Lab - Visualizations",children:(0,r.jsxs)("div",{className:"error",children:["Error: ",c]})});if(!e||!e.readings||0===e.readings.length)return(0,r.jsx)(t.A,{title:"LEWAS Lab - Visualizations",children:(0,r.jsx)("div",{children:"No data available for visualization"})});let o=(e=>{let a={temperature:[],humidity:[],pressure:[],light:[]};return e&&e.length>0&&e.forEach(e=>{a[e.parameter_type]&&a[e.parameter_type].push(e)}),a})(e.readings),m=e=>{if(!e||0===e.length)return{min:0,max:100};let a=e[0].value,s=e[0].value;return e.forEach(e=>{e.value<a&&(a=e.value),e.value>s&&(s=e.value)}),{min:a,max:s}},u=(e,a,s)=>s===a?50:(e-a)/(s-a)*80+10,x=(()=>{let e={};if(o.temperature.length>0){let{min:a,max:s}=m(o.temperature);e.tempRange="".concat(a.toFixed(1),"\xb0C - ").concat(s.toFixed(1),"\xb0C")}if(o.humidity.length>0&&(e.avgHumidity=(o.humidity.reduce((e,a)=>e+a.value,0)/o.humidity.length).toFixed(1)+"%"),o.pressure.length>0){let{min:a,max:s}=m(o.pressure);e.pressureVar=(s-a).toFixed(2)+" hPa"}if(o.light.length>0){let{max:a}=m(o.light);e.maxLight=a.toFixed(1)+" lux"}return e})();return(0,r.jsx)(t.A,{title:"LEWAS Lab - Visualizations",children:(0,r.jsxs)("div",{className:"visualizations-container",children:[(0,r.jsx)("h2",{children:"Environmental Data Visualizations"}),(0,r.jsx)("p",{children:"Visual representation of SIMULATED sensor data from Stroubles Creek. We are working on getting live data"}),o.temperature.length>0&&(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsx)("h3",{children:"Temperature Data (\xb0C)"}),(0,r.jsx)("div",{className:"chart-container",children:(0,r.jsx)("div",{className:"chart-bars",children:o.temperature.map((e,a)=>{let{min:s,max:i}=m(o.temperature);return(0,r.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,r.jsx)("div",{className:"chart-bar-container",children:(0,r.jsx)("div",{className:"chart-bar temperature-bar",style:{height:"".concat(u(e.value,s,i),"%")},children:(0,r.jsx)("span",{className:"bar-value",children:e.value.toFixed(1)})})}),(0,r.jsx)("div",{className:"bar-label",children:d(e.timestamp)})]},a)})})})]}),o.humidity.length>0&&(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsx)("h3",{children:"Humidity Data (%)"}),(0,r.jsx)("div",{className:"chart-container",children:(0,r.jsx)("div",{className:"chart-bars",children:o.humidity.map((e,a)=>{let{min:s,max:i}=m(o.humidity);return(0,r.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,r.jsx)("div",{className:"chart-bar-container",children:(0,r.jsx)("div",{className:"chart-bar humidity-bar",style:{height:"".concat(u(e.value,s,i),"%")},children:(0,r.jsx)("span",{className:"bar-value",children:e.value.toFixed(1)})})}),(0,r.jsx)("div",{className:"bar-label",children:d(e.timestamp)})]},a)})})})]}),o.pressure.length>0&&(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsx)("h3",{children:"Pressure Data (hPa)"}),(0,r.jsx)("div",{className:"chart-container",children:(0,r.jsx)("div",{className:"chart-bars",children:o.pressure.map((e,a)=>{let{min:s,max:i}=m(o.pressure);return(0,r.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,r.jsx)("div",{className:"chart-bar-container",children:(0,r.jsx)("div",{className:"chart-bar pressure-bar",style:{height:"".concat(u(e.value,s,i),"%")},children:(0,r.jsx)("span",{className:"bar-value",children:e.value.toFixed(1)})})}),(0,r.jsx)("div",{className:"bar-label",children:d(e.timestamp)})]},a)})})})]}),o.light.length>0&&(0,r.jsxs)("div",{className:"chart-section",children:[(0,r.jsx)("h3",{children:"Light Level Data (lux)"}),(0,r.jsx)("div",{className:"chart-container",children:(0,r.jsx)("div",{className:"chart-bars",children:o.light.map((e,a)=>{let{min:s,max:i}=m(o.light);return(0,r.jsxs)("div",{className:"chart-bar-wrapper",children:[(0,r.jsx)("div",{className:"chart-bar-container",children:(0,r.jsx)("div",{className:"chart-bar light-bar",style:{height:"".concat(u(e.value,s,i),"%")},children:(0,r.jsx)("span",{className:"bar-value",children:e.value.toFixed(1)})})}),(0,r.jsx)("div",{className:"bar-label",children:d(e.timestamp)})]},a)})})})]}),(0,r.jsxs)("div",{className:"data-insights",children:[(0,r.jsx)("h3",{children:"Data Insights"}),(0,r.jsxs)("div",{className:"insights-grid",children:[x.tempRange&&(0,r.jsxs)("div",{className:"insight-card",children:[(0,r.jsx)("h4",{children:"Temperature Range"}),(0,r.jsx)("p",{children:x.tempRange})]}),x.avgHumidity&&(0,r.jsxs)("div",{className:"insight-card",children:[(0,r.jsx)("h4",{children:"Average Humidity"}),(0,r.jsx)("p",{children:x.avgHumidity})]}),x.pressureVar&&(0,r.jsxs)("div",{className:"insight-card",children:[(0,r.jsx)("h4",{children:"Pressure Variation"}),(0,r.jsx)("p",{children:x.pressureVar})]}),x.maxLight&&(0,r.jsxs)("div",{className:"insight-card",children:[(0,r.jsx)("h4",{children:"Peak Light Level"}),(0,r.jsx)("p",{children:x.maxLight})]})]})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[695,636,593,792],()=>a(1408)),_N_E=e.O()}]);